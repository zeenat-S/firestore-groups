<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>
      Groups
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">Groups</ion-title>
    </ion-toolbar>
  </ion-header>

  <h1 style="text-align: center;">{{currentUserEmail}}</h1>
  <div style="display: flex; justify-content: center; text-align: center; margin-top: 50px;">
    <ion-button (click)="logOut()">LogOut</ion-button>
  </div>
  <div style="display: flex; justify-content: center; text-align: center; margin-top: 50px;">
    <ion-button (click)="handleNewGroup()">New Group</ion-button>
  </div>

  <div *ngIf="addGroup" style="display: flex; justify-content: center;">
    <form [formGroup]="groupForm" style="width: 75%;">
      <ion-item>
        <ion-label position="floating">Group Name</ion-label>
        <ion-input formControlName="groupName"></ion-input>
      </ion-item>
      <ion-item>
        <ion-label position="floating">Add Members</ion-label>
        <ion-input formControlName="members" placeholder="Add ByUser Email"></ion-input>
        <span><ion-button (click)="addMembers()">Add</ion-button></span>
      </ion-item>
      <div *ngFor="let member of members">
        <ion-item>
          {{member.name}} | {{member.email}}
        </ion-item>
      </div>
      <ion-row>
        <ion-col>
          <ion-button type="submit" expand="block" (click)="addGroups()">Create Group</ion-button>
        </ion-col>
        <ion-col>
          <ion-button color="medium" expand="block" (click)="onCancel()">Cancel</ion-button>
        </ion-col>
      </ion-row>
    </form>
  </div>
  <div *ngFor="let group of groups">
    <ion-item>
      <ion-title>
        <h2 style="text-align: center;">Groups of {{currentUserEmail}}</h2>
      </ion-title>
    </ion-item>
    <ul style="list-style: none;">
      <li>
        <ion-item>
          {{group.groupName}} :
          <div *ngFor="let groupMember of group.members">
            {{groupMember.name}} <br>
          </div>
        </ion-item>
      </li>
    </ul>
  </div>
  <app-explore-container name="Tab 1 page"></app-explore-container>
</ion-content>